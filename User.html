<!DOCTYPE html>
<html class="pt" lang="pt">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha conta</title>
    <link rel="icon" type="imagem/png" href="https://uploaddeimagens.com.br/images/004/457/464/full/imagem_2023-05-08_113702062.png?1683556624"/>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <link rel="stylesheet" href="/CSS/Elementos.css">
    <link rel="stylesheet" href="/CSS/Principais.css">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,700;1,400&display=swap"
      rel="stylesheet">

    <link href="CSS/tooplate-clean-work.css" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Slick -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/jquery.slick/1.6.0/slick-theme.css" />
  <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery.slick/1.6.0/slick.min.js"></script>

  <!-- Script menu-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>

  <script src="/maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>

<body>

  <header id="headerContainer"></header>

    <main>


      <section id="usuario" class="mb-4">
        <div class="user-info">
          <img src="https://uploaddeimagens.com.br/images/004/569/516/full/imagem_2023-08-07_223109213.png?1691458279"
            alt="">
          <div>
            <h5>Nome: <span id="userName"></span></h5>
            <h5>Email: <span id="userEmail"></span></h5>
            <button id="logoutButton">Sair</button>
            <!--<button id="editProfileButton">Editar Perfil</button>-->
          </div>

        </div>
      </section>

      <div class="inf_user">
        <div id="dadosUser"></div>

        <div class="op_ajuda col-md-10 col-12 mb-4 mb-lg-0 mb-md-0">
          <section>
            <h2>Formas que posso ajudar</h2>
            <p id="introText">Você quer ajudar as ONGs, mas não sabe como? Compartilhe suas ideias conosco!
              Todos temos algo a oferecer, seja por meio de habilidades específicas, recursos ou simplesmente
              nosso tempo e dedicação. Digite abaixo suas ideias sobre como você pode contribuir e fazer a
              diferença na vida das pessoas atendidas pelas ONGs.</p>

            <form id="infoForm">
              <label for="additionalInput">Posso ajudar com:</label>
              <input type="text" id="additionalInput" name="additionalInput">

              <button type="submit">Adicionar</button>
            </form>
            <div id="additionalInfo" class="additional-info-container"></div>
          </section>

          <section>
            <h2>ONG que mais combina comigo</h2>
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
              Fazer teste
            </button>
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
              aria-labelledby="staticBackdropLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Eu posso ajudar:</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">

                    <ul class="list-group list-group">
                      <ul class="list-group">
                        <li class="list-group-item ">
                          <input class="form-check-input me-1" type="checkbox" value="Financeira" id="forma1">
                          <label class="form-check-label" for="forma1">Ajuda Financeira</label>
                        </li>

                        <li class="list-group-item">
                          <input class="form-check-input me-1" type="checkbox" value="Roupa" id="forma2">
                          <label class="form-check-label" for="forma2">Doação de Roupa</label>
                        </li>

                        <li class="list-group-item">
                          <input class="form-check-input me-1" type="checkbox" value="Alimento" id="forma3">
                          <label class="form-check-label" for="forma3">Doação de Alimento não perecível</label>
                        </li>

                        <li class="list-group-item">
                          <input class="form-check-input me-1" type="checkbox" value="Brinquedo" id="forma4">
                          <label class="form-check-label" for="forma4">Doação de Brinquedo</label>
                        </li>

                        <li class="list-group-item">
                          <input class="form-check-input me-1" type="checkbox" value="Cobertor" id="forma5">
                          <label class="form-check-label" for="forma5">Doação de Cobertor</label>
                        </li>

                        <li class="list-group-item">
                          <input class="form-check-input me-1" type="checkbox" value="Higiene" id="forma6">
                          <label class="form-check-label" for="forma6">Doação de Itens de Higiene Pessoal</label>
                        </li>

                        <li class="list-group-item">
                          <input class="form-check-input me-1" type="checkbox" value="Animais" id="forma7">
                          <label class="form-check-label" for="forma7">Doação de Ração para Animais</label>
                        </li>

                        <li class="list-group-item">
                          <input class="form-check-input me-1" type="checkbox" value="Voluntario" id="forma8">
                          <label class="form-check-label" for="forma8">Ser Voluntário(a)</label>
                        </li>

                        <li class="list-group-item">
                          <input class="form-check-input me-1" type="checkbox" value="Campanha" id="forma9">
                          <label class="form-check-label" for="forma9">Apoiar Campanhas</label>
                        </li>
                      </ul>
                  </div>
                  <div class="modal-footer">
                    <button onclick="showRelatedONGs()">Descobrir</button>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>
      </div>

    </main>

    <footer class="footerContainer"></footer>

    <script src="/AcessoUser/firebase-init.js"></script>
    <script src="/AcessoUser/Auth.js"></script>
    <script src="/JS/checklist.js"></script>
    <script src="/JS/script.js"></script>


    </main>
  </body>
  <script>

firebase.auth().onAuthStateChanged((user) => {
  if (user) {
    // O usuário está autenticado
    console.log('Usuário autenticado:', user.displayName, user.email);

    // Exibir o nome de usuário e email do usuário
    let userNameElement = document.getElementById("userName");
    let userEmailElement = document.getElementById("userEmail");

    userNameElement.textContent = user.displayName;
    userEmailElement.textContent = user.email;

    // Exibir o contêiner com as informações do usuário
    document.getElementById("hello-world").style.display = "block";

  } else {
    // O usuário não está autenticado, redirecionar para a página "AcessoUser.html"
    window.location.href = "AcessoUser.html";
  }
});

      window.addEventListener('DOMContentLoaded', () => {
        // ...

        // Adicionar ouvinte de eventos para o botão de sair
        const logoutButton = document.getElementById("logoutButton");
        logoutButton.addEventListener("click", () => {
          firebase.auth().signOut().then(() => {
            // Logout bem-sucedido, redirecionar para a página "teste.html"
            window.location.href = "HTML/AcessoUser.html";
          }).catch((error) => {
            // Ocorreu um erro ao fazer logout
            console.log('Erro ao fazer logout:', error);
          });
        });
      });

    </script>
</html>

<script>
  document.getElementById("infoForm").addEventListener("submit", function (event) {
    event.preventDefault(); // Evita o comportamento padrão de recarregar a página ao enviar o formulário

    var additionalInfo = document.getElementById("additionalInput").value;
    var additionalParagraph = document.createElement("div");
    additionalParagraph.classList.add("additional-info-item");

    var infoText = document.createElement("span");
    infoText.textContent = additionalInfo;
    additionalParagraph.appendChild(infoText);

    var removeButton = document.createElement("button");
    removeButton.classList.add("remove-button");
    removeButton.textContent = "X";
    removeButton.addEventListener("click", function () {
      additionalParagraph.remove();
      updateIntroText();
    });
    additionalParagraph.appendChild(removeButton);

    document.getElementById("additionalInfo").appendChild(additionalParagraph);

    // Limpe o formulário
    document.getElementById("infoForm").reset();

    // Verifique se há informações adicionais e atualize a exibição do texto introdutório
    function updateIntroText() {
      var introText = document.getElementById("introText");
      if (document.getElementById("additionalInfo").children.length > 0) {
        introText.style.display = "none"; // Oculta o texto introdutório se houver informações adicionais
      } else {
        introText.style.display = "block"; // Exibe o texto introdutório se não houver informações adicionais
      }
    }

    updateIntroText();
  });
</script>
